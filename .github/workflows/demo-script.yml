name: Learning GitHub Script

on:
  issues:
    types: [opened]

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:

      - name: Checkout
        uses: actions/checkout@v2

      - name: Get metadata
        uses: actions/github-script@v6.3.2
        with:
          script: |
            console.log(context.issue);
            console.log(context.repo);

      - name: install '@octokit/rest'
        run: npm install @octokit/rest

      - uses: actions/github-script@v6.3.2
        with:
          github-token: ${{secrets.GITHUB_TOKEN}}
          script: |
            const path = require('path')
            const scriptPath = path.resolve('./.github/scripts/script.js')
            console.log(require(scriptPath)({context}))